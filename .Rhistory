dict_file<- 'tmp/rpg_dict'
anno_file<- 'Pseudomonas_aeruginosa_PA14_12genes_R_annotation'
out_file<- 'test.tab'
annotation <- read.table(anno_file,header=TRUE,row.names=1)
head(annotation)
dict                    <- read.table(dict_file,header=TRUE, stringsAsFactor= F, check.names= F)
nsamples                <- nrow(dict)                   # no. of samples
all_rpg                 <- matrix(0,length(annotation$gene_name),nsamples)
rownames(all_rpg)       <- rownames(annotation)
colnames(all_rpg)       <- dict$name
head(all_rpg)
i<-1
dict[i, ]$path
dict
dict[i, ]$path
rpg             <- data.matrix(read.table(dict[i, ]$path))
rpg
for (i in 1:nrow(dict)){
        # parse rpg file
#       rpg             <- as.matrix(read.table(paste(path,rpg_file,sep="")))
  print(dict[i, ]$path)
        rpg             <- data.matrix(read.table(dict[i, ]$path))
  print(length(rpg))
        if(ncol(rpg) > 1){      
                # two-strand mode (default setting of art2genecount.pl)
                rpg     <- as.numeric(rpg[,2])
        } # otherwise blank mode is assumed
        all_rpg[,i]     <- rpg
}
head(all_rpg)
head(t(all_rpg))
t(all_rpg)[1:3, 1:3]
colnames(t(all_rpg))
write.table(t(all_rpg), out_file, sep="\t", col.names=T, quote= F)
write.csv(t(all_rpg), out_file, sep="\t", col.names=T, quote= F)
write.table(t(all_rpg), out_file, sep="\t", col.names=NA, quote= F)
