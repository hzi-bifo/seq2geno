Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	5	aln_to_vcf_per_fam
	1	create_indel_table
	1	expand_by_family
	5	vcf_to_indels_per_fam
	13

[Mon Aug 13 11:57:16 2018]
rule aln_to_vcf_per_fam:
    input: tmp/extracted_proteins_nt/fhuA_3.aln
    output: tmp/extracted_proteins_nt/fhuA_3.vcf
    jobid: 27
    wildcards: fam=fhuA_3

[Mon Aug 13 11:57:17 2018]
Finished job 27.
1 of 13 steps (8%) done

[Mon Aug 13 11:57:17 2018]
rule aln_to_vcf_per_fam:
    input: tmp/extracted_proteins_nt/aaeA_2.aln
    output: tmp/extracted_proteins_nt/aaeA_2.vcf
    jobid: 26
    wildcards: fam=aaeA_2

[Mon Aug 13 11:57:18 2018]
Finished job 26.
2 of 13 steps (15%) done

[Mon Aug 13 11:57:18 2018]
rule aln_to_vcf_per_fam:
    input: tmp/extracted_proteins_nt/aaeA_1.aln
    output: tmp/extracted_proteins_nt/aaeA_1.vcf
    jobid: 25
    wildcards: fam=aaeA_1

[Mon Aug 13 11:57:18 2018]
Finished job 25.
3 of 13 steps (23%) done

[Mon Aug 13 11:57:18 2018]
rule aln_to_vcf_per_fam:
    input: tmp/extracted_proteins_nt/xcpW.aln
    output: tmp/extracted_proteins_nt/xcpW.vcf
    jobid: 29
    wildcards: fam=xcpW

[Mon Aug 13 11:57:19 2018]
Finished job 29.
4 of 13 steps (31%) done

[Mon Aug 13 11:57:19 2018]
rule aln_to_vcf_per_fam:
    input: tmp/extracted_proteins_nt/aaaT.aln
    output: tmp/extracted_proteins_nt/aaaT.vcf
    jobid: 28
    wildcards: fam=aaaT

[Mon Aug 13 11:57:19 2018]
Finished job 28.
5 of 13 steps (38%) done

[Mon Aug 13 11:57:19 2018]
rule vcf_to_indels_per_fam:
    input: tmp/extracted_proteins_nt/fhuA_3.vcf
    output: tmp/extracted_proteins_nt/fhuA_3_indels.txt, tmp/extracted_proteins_nt/fhuA_3_indels.gff, tmp/extracted_proteins_nt/fhuA_3_indel_stats.txt
    jobid: 22
    wildcards: fam=fhuA_3

[Mon Aug 13 11:57:21 2018]
Finished job 22.
6 of 13 steps (46%) done

[Mon Aug 13 11:57:21 2018]
rule vcf_to_indels_per_fam:
    input: tmp/extracted_proteins_nt/aaaT.vcf
    output: tmp/extracted_proteins_nt/aaaT_indels.txt, tmp/extracted_proteins_nt/aaaT_indels.gff, tmp/extracted_proteins_nt/aaaT_indel_stats.txt
    jobid: 23
    wildcards: fam=aaaT

[Mon Aug 13 11:57:22 2018]
Finished job 23.
7 of 13 steps (54%) done

[Mon Aug 13 11:57:22 2018]
rule vcf_to_indels_per_fam:
    input: tmp/extracted_proteins_nt/aaeA_2.vcf
    output: tmp/extracted_proteins_nt/aaeA_2_indels.txt, tmp/extracted_proteins_nt/aaeA_2_indels.gff, tmp/extracted_proteins_nt/aaeA_2_indel_stats.txt
    jobid: 21
    wildcards: fam=aaeA_2

[Mon Aug 13 11:57:24 2018]
Finished job 21.
8 of 13 steps (62%) done

[Mon Aug 13 11:57:24 2018]
rule vcf_to_indels_per_fam:
    input: tmp/extracted_proteins_nt/xcpW.vcf
    output: tmp/extracted_proteins_nt/xcpW_indels.txt, tmp/extracted_proteins_nt/xcpW_indels.gff, tmp/extracted_proteins_nt/xcpW_indel_stats.txt
    jobid: 24
    wildcards: fam=xcpW

[Mon Aug 13 11:57:25 2018]
Finished job 24.
9 of 13 steps (69%) done

[Mon Aug 13 11:57:25 2018]
rule vcf_to_indels_per_fam:
    input: tmp/extracted_proteins_nt/aaeA_1.vcf
    output: tmp/extracted_proteins_nt/aaeA_1_indels.txt, tmp/extracted_proteins_nt/aaeA_1_indels.gff, tmp/extracted_proteins_nt/aaeA_1_indel_stats.txt
    jobid: 20
    wildcards: fam=aaeA_1

[Mon Aug 13 11:57:26 2018]
Finished job 20.
10 of 13 steps (77%) done

[Mon Aug 13 11:57:26 2018]
rule expand_by_family:
    input: tmp/extracted_proteins_nt/xcpW_indels.txt, tmp/extracted_proteins_nt/aaaT_indels.txt, tmp/extracted_proteins_nt/aaeA_1_indels.txt, tmp/extracted_proteins_nt/fhuA_3_indels.txt, tmp/extracted_proteins_nt/aaeA_2_indels.txt
    output: tmp/indel.list
    jobid: 19

[Mon Aug 13 11:57:26 2018]
Finished job 19.
11 of 13 steps (85%) done

[Mon Aug 13 11:57:26 2018]
rule create_indel_table:
    input: tmp/roary/gene_presence_absence.Rtab, tmp/indel.list
    output: /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/results/annot.tab, indel_annot.txt, indels_stats.txt, roary_PA14_abricate.txt
    jobid: 1

    [Mon Aug 13 11:57:28 2018]
    Error in rule create_indel_table:
        jobid: 1
        output: /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/results/annot.tab, indel_annot.txt, indels_stats.txt, roary_PA14_abricate.txt

RuleException:
CalledProcessError in line 78 of /net/sgi/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/CREATE_INDEL_TABLE.smk:
Command ' set -euo pipefail;  
        source activate py27
        python indel_detection/generate_indel_features.py         <(cut -f1 tmp/roary/gene_presence_absence.Rtab| tail -n+2 )         /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/results/annot.tab indel_annot.txt         indels_stats.txt roary_PA14_abricate.txt 
        source deactivate ' returned non-zero exit status 1.
  File "/net/sgi/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/CREATE_INDEL_TABLE.smk", line 78, in __rule_create_indel_table
  File "/home/thkuo/miniconda3/envs/phypal/lib/python3.6/concurrent/futures/thread.py", line 55, in run
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /net/sgi/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/.snakemake/log/2018-08-13T115714.092455.snakemake.log
