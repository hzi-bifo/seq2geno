Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	1	all_snps_list
	3	compute_flatcounts
	1	covert_snps_table
	1	create_dict_file
	4	for_tab_copy_vcf
	3	for_tab_create_vcf
	3	for_tab_paired_read_bwa_mapping
	3	for_tab_sam2bam
	3	for_tab_sort_bam
	3	for_tab_stampy_remapping
	1	nonsyn_snps_table
	1	syn_snps_table
	28

[Tue Aug 21 15:47:38 2018]
rule for_tab_paired_read_bwa_mapping:
    input: data/strains/dna/CH2500_1.fq.gz, data/strains/dna/CH2500_2.fq.gz, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.fai, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.bwt
    output: tmp/CH2500/bwa/dna1.bwa.sai, tmp/CH2500/bwa/dna2.bwa.sai, tmp/CH2500/bwa/dna.bwa.bam
    jobid: 30
    wildcards: TMP_D=tmp, strain=CH2500, mapper=bwa

[Tue Aug 21 15:48:15 2018]
Finished job 30.
1 of 28 steps (4%) done

[Tue Aug 21 15:48:15 2018]
rule for_tab_stampy_remapping:
    input: /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.stidx, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.sthash, tmp/CH2500/bwa/dna.bwa.bam
    output: tmp/CH2500/bwa/st_paired.sam
    jobid: 21
    wildcards: TMP_D=tmp, strain=CH2500, mapper=bwa

[Tue Aug 21 15:50:36 2018]
Finished job 21.
2 of 28 steps (7%) done

[Tue Aug 21 15:50:36 2018]
rule for_tab_sam2bam:
    input: tmp/CH2500/bwa/st_paired.sam
    output: tmp/CH2500/bwa/st_paired.bam
    jobid: 34
    wildcards: TMP_D=tmp, strain=CH2500, mapper=bwa

[Tue Aug 21 15:50:45 2018]
Finished job 34.
3 of 28 steps (11%) done

[Tue Aug 21 15:50:45 2018]
rule compute_flatcounts:
    input: tmp/CH2500/bwa/st_paired.sam
    output: tmp/CH2500/bwa/st_variant.flatcount, tmp/CH2500/bwa/st_variant.sin, tmp/CH2500/bwa/st_variant.art
    jobid: 13
    wildcards: TMP_D=tmp, strain=CH2500, mapper=bwa

[Tue Aug 21 15:51:52 2018]
Finished job 13.
4 of 28 steps (14%) done

[Tue Aug 21 15:51:52 2018]
rule for_tab_sort_bam:
    input: tmp/CH2500/bwa/st_paired.bam
    output: tmp/CH2500/bwa/st_sorted.bam, tmp/CH2500/bwa/st_sorted.bam.bai
    jobid: 29
    wildcards: TMP_D=tmp, strain=CH2500, mapper=bwa

[Tue Aug 21 15:53:00 2018]
Finished job 29.
5 of 28 steps (18%) done

[Tue Aug 21 15:53:00 2018]
rule for_tab_create_vcf:
    input: /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.fai, tmp/CH2500/bwa/st_sorted.bam, tmp/CH2500/bwa/st_sorted.bam.bai
    output: tmp/CH2500/bwa/st_vcf.bcf, tmp/CH2500/bwa/st_variant.snp-vcf
    jobid: 20
    wildcards: TMP_D=tmp, strain=CH2500, mapper=bwa

[Tue Aug 21 15:58:35 2018]
Finished job 20.
6 of 28 steps (21%) done

[Tue Aug 21 15:58:35 2018]
rule for_tab_paired_read_bwa_mapping:
    input: data/strains/dna/CH2522_1.fq.gz, data/strains/dna/CH2522_2.fq.gz, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.fai, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.bwt
    output: tmp/CH2522/bwa/dna1.bwa.sai, tmp/CH2522/bwa/dna2.bwa.sai, tmp/CH2522/bwa/dna.bwa.bam
    jobid: 23
    wildcards: TMP_D=tmp, strain=CH2522, mapper=bwa

[Tue Aug 21 15:59:13 2018]
Finished job 23.
7 of 28 steps (25%) done

[Tue Aug 21 15:59:13 2018]
rule for_tab_stampy_remapping:
    input: /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.stidx, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.sthash, tmp/CH2522/bwa/dna.bwa.bam
    output: tmp/CH2522/bwa/st_paired.sam
    jobid: 14
    wildcards: TMP_D=tmp, strain=CH2522, mapper=bwa

[Tue Aug 21 16:01:20 2018]
Finished job 14.
8 of 28 steps (29%) done

[Tue Aug 21 16:01:20 2018]
rule compute_flatcounts:
    input: tmp/CH2522/bwa/st_paired.sam
    output: tmp/CH2522/bwa/st_variant.flatcount, tmp/CH2522/bwa/st_variant.sin, tmp/CH2522/bwa/st_variant.art
    jobid: 5
    wildcards: TMP_D=tmp, strain=CH2522, mapper=bwa

[Tue Aug 21 16:02:26 2018]
Finished job 5.
9 of 28 steps (32%) done

[Tue Aug 21 16:02:26 2018]
rule for_tab_sam2bam:
    input: tmp/CH2522/bwa/st_paired.sam
    output: tmp/CH2522/bwa/st_paired.bam
    jobid: 31
    wildcards: TMP_D=tmp, strain=CH2522, mapper=bwa

[Tue Aug 21 16:02:34 2018]
Finished job 31.
10 of 28 steps (36%) done

[Tue Aug 21 16:02:34 2018]
rule for_tab_sort_bam:
    input: tmp/CH2522/bwa/st_paired.bam
    output: tmp/CH2522/bwa/st_sorted.bam, tmp/CH2522/bwa/st_sorted.bam.bai
    jobid: 25
    wildcards: TMP_D=tmp, strain=CH2522, mapper=bwa

[Tue Aug 21 16:03:40 2018]
Finished job 25.
11 of 28 steps (39%) done

[Tue Aug 21 16:03:40 2018]
rule for_tab_create_vcf:
    input: /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.fai, tmp/CH2522/bwa/st_sorted.bam, tmp/CH2522/bwa/st_sorted.bam.bai
    output: tmp/CH2522/bwa/st_vcf.bcf, tmp/CH2522/bwa/st_variant.snp-vcf
    jobid: 16
    wildcards: TMP_D=tmp, strain=CH2522, mapper=bwa

[Tue Aug 21 16:09:07 2018]
Finished job 16.
12 of 28 steps (43%) done

[Tue Aug 21 16:09:07 2018]
rule for_tab_copy_vcf:
    input: tmp/CH2522/bwa/st_variant.snp-vcf
    output: CH2522.flt.vcf
    jobid: 7
    wildcards: strain=CH2522

[Tue Aug 21 16:09:07 2018]
Finished job 7.
13 of 28 steps (46%) done

[Tue Aug 21 16:09:07 2018]
rule for_tab_paired_read_bwa_mapping:
    input: data/strains/dna/CH2502_1.fq.gz, data/strains/dna/CH2502_2.fq.gz, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.fai, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.bwt
    output: tmp/CH2502/bwa/dna1.bwa.sai, tmp/CH2502/bwa/dna2.bwa.sai, tmp/CH2502/bwa/dna.bwa.bam
    jobid: 24
    wildcards: TMP_D=tmp, strain=CH2502, mapper=bwa

[Tue Aug 21 16:09:39 2018]
Finished job 24.
14 of 28 steps (50%) done

[Tue Aug 21 16:09:39 2018]
rule for_tab_stampy_remapping:
    input: /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.stidx, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.sthash, tmp/CH2502/bwa/dna.bwa.bam
    output: tmp/CH2502/bwa/st_paired.sam
    jobid: 15
    wildcards: TMP_D=tmp, strain=CH2502, mapper=bwa

[Tue Aug 21 16:11:28 2018]
Finished job 15.
15 of 28 steps (54%) done

[Tue Aug 21 16:11:28 2018]
rule for_tab_sam2bam:
    input: tmp/CH2502/bwa/st_paired.sam
    output: tmp/CH2502/bwa/st_paired.bam
    jobid: 32
    wildcards: TMP_D=tmp, strain=CH2502, mapper=bwa

[Tue Aug 21 16:11:36 2018]
Finished job 32.
16 of 28 steps (57%) done

[Tue Aug 21 16:11:36 2018]
rule compute_flatcounts:
    input: tmp/CH2502/bwa/st_paired.sam
    output: tmp/CH2502/bwa/st_variant.flatcount, tmp/CH2502/bwa/st_variant.sin, tmp/CH2502/bwa/st_variant.art
    jobid: 6
    wildcards: TMP_D=tmp, strain=CH2502, mapper=bwa

[Tue Aug 21 16:12:41 2018]
Finished job 6.
17 of 28 steps (61%) done

[Tue Aug 21 16:12:41 2018]
rule for_tab_sort_bam:
    input: tmp/CH2502/bwa/st_paired.bam
    output: tmp/CH2502/bwa/st_sorted.bam, tmp/CH2502/bwa/st_sorted.bam.bai
    jobid: 26
    wildcards: TMP_D=tmp, strain=CH2502, mapper=bwa

[Tue Aug 21 16:13:44 2018]
Finished job 26.
18 of 28 steps (64%) done

[Tue Aug 21 16:13:44 2018]
rule for_tab_create_vcf:
    input: /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa, /net/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v4/data/reference/RefCln_UCBPP-PA14.fa.fai, tmp/CH2502/bwa/st_sorted.bam, tmp/CH2502/bwa/st_sorted.bam.bai
    output: tmp/CH2502/bwa/st_vcf.bcf, tmp/CH2502/bwa/st_variant.snp-vcf
    jobid: 17
    wildcards: TMP_D=tmp, strain=CH2502, mapper=bwa

[Tue Aug 21 16:19:16 2018]
Finished job 17.
19 of 28 steps (68%) done

[Tue Aug 21 16:19:16 2018]
rule for_tab_copy_vcf:
    input: tmp/CH2502/bwa/st_variant.snp-vcf
    output: CH2502.flt.vcf
    jobid: 9
    wildcards: strain=CH2502

[Tue Aug 21 16:19:16 2018]
Finished job 9.
20 of 28 steps (71%) done

[Tue Aug 21 16:19:16 2018]
rule for_tab_copy_vcf:
    input: tmp/F1659/bwa/st_variant.snp-vcf
    output: F1659.flt.vcf
    jobid: 10
    wildcards: strain=F1659

[Tue Aug 21 16:19:16 2018]
Finished job 10.
21 of 28 steps (75%) done

[Tue Aug 21 16:19:16 2018]
rule for_tab_copy_vcf:
    input: tmp/CH2500/bwa/st_variant.snp-vcf
    output: CH2500.flt.vcf
    jobid: 12
    wildcards: strain=CH2500

[Tue Aug 21 16:19:17 2018]
Finished job 12.
22 of 28 steps (79%) done

[Tue Aug 21 16:19:17 2018]
rule create_dict_file:
    input: CH2500.flt.vcf, CH2502.flt.vcf, CH2522.flt.vcf, F1659.flt.vcf
    output: dict.txt
    jobid: 8

[Tue Aug 21 16:19:17 2018]
Finished job 8.
23 of 28 steps (82%) done

[Tue Aug 21 16:19:17 2018]
rule all_snps_list:
    input: tmp/CH2500/bwa/st_variant.flatcount, tmp/CH2502/bwa/st_variant.flatcount, tmp/CH2522/bwa/st_variant.flatcount, tmp/F1659/bwa/st_variant.flatcount, CH2500.flt.vcf, CH2502.flt.vcf, CH2522.flt.vcf, F1659.flt.vcf, dict.txt, Pseudomonas_aeruginosa_PA14_annotation_with_ncRNAs_07_2011_12genes.tab
    output: /DNA_Pool1_final.tab
    jobid: 4

    [Tue Aug 21 16:19:19 2018]
    Error in rule all_snps_list:
        jobid: 4
        output: /DNA_Pool1_final.tab

RuleException:
CalledProcessError in line 114 of /net/sgi/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v5/CREATE_SNPS_TABLE.smk:
Command ' set -euo pipefail;  
        source activate py27
        python snps_original_methods/mutation_table.py  -f dict.txt         -a Pseudomonas_aeruginosa_PA14_annotation_with_ncRNAs_07_2011_12genes.tab         -o /DNA_Pool1_final.tab
        source deactivate ' returned non-zero exit status 1.
  File "/net/sgi/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v5/CREATE_SNPS_TABLE.smk", line 114, in __rule_all_snps_list
  File "/home/thkuo/miniconda3/envs/seq2geno/lib/python3.6/concurrent/futures/thread.py", line 56, in run
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /net/sgi/metagenomics/data/from_moni/old.tzuhao/seq2geno/dev_versions/v5/.snakemake/log/2018-08-21T154735.231602.snakemake.log
